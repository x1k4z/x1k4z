<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kahoot Quiz - –í–∏–∫—Ç–æ—Ä–∏–Ω–∞ –ø—Ä–æ –ö—Å—é—à—É</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Montserrat', 'Arial', sans-serif;
            overflow-x: hidden;
            background: #46178f;
        }

        .container {
            width: 100%;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .quiz-container {
            width: 100%;
            max-width: 900px;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .start-screen, .question-screen, .result-screen {
            display: none;
            text-align: center;
        }

        .start-screen.active, .question-screen.active, .result-screen.active {
            display: block;
        }

        .start-screen h1 {
            font-size: 48px;
            color: #46178f;
            margin-bottom: 20px;
        }

        .start-screen p {
            font-size: 24px;
            color: #666;
            margin-bottom: 40px;
        }

        .btn {
            background: #46178f;
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 25px;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn:hover {
            background: #5a1fb3;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(70, 23, 143, 0.3);
        }

        .question-header {
            margin-bottom: 30px;
        }

        .question-number {
            color: #46178f;
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .question-text {
            font-size: 28px;
            font-weight: bold;
            color: #333;
            margin-bottom: 30px;
            line-height: 1.4;
        }

        .answers-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .answer-option {
            background: #f0f0f0;
            padding: 20px;
            border-radius: 12px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            border: 3px solid transparent;
            display: flex;
            align-items: center;
            text-align: left;
        }

        .answer-option:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .answer-option.selected {
            border-color: #46178f;
            background: #f0e6ff;
        }

        .answer-option.red { background: #e21b3c; color: white; }
        .answer-option.blue { background: #1368ce; color: white; }
        .answer-option.yellow { background: #ffa602; color: white; }
        .answer-option.green { background: #26890c; color: white; }
        .answer-option.purple { background: #7b2cbf; color: white; }
        .answer-option.orange { background: #ff6b35; color: white; }

        .answer-option.red.selected { border-color: #fff; box-shadow: 0 0 0 4px #e21b3c; }
        .answer-option.blue.selected { border-color: #fff; box-shadow: 0 0 0 4px #1368ce; }
        .answer-option.yellow.selected { border-color: #fff; box-shadow: 0 0 0 4px #ffa602; }
        .answer-option.green.selected { border-color: #fff; box-shadow: 0 0 0 4px #26890c; }
        .answer-option.purple.selected { border-color: #fff; box-shadow: 0 0 0 4px #7b2cbf; }
        .answer-option.orange.selected { border-color: #fff; box-shadow: 0 0 0 4px #ff6b35; }

        .answer-letter {
            font-size: 24px;
            margin-right: 12px;
            font-weight: bold;
        }

        .text-input {
            width: 100%;
            padding: 15px;
            font-size: 18px;
            border: 2px solid #ddd;
            border-radius: 10px;
            margin-bottom: 20px;
            resize: vertical;
            min-height: 100px;
            font-family: inherit;
        }

        .text-input:focus {
            outline: none;
            border-color: #46178f;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .nav-btn {
            background: #46178f;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 20px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .nav-btn:hover {
            background: #5a1fb3;
        }

        .nav-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 10px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #46178f 0%, #7b2cbf 100%);
            transition: width 0.3s;
        }

        .result-screen h2 {
            font-size: 42px;
            color: #46178f;
            margin-bottom: 20px;
        }

        .score {
            font-size: 72px;
            font-weight: bold;
            color: #26890c;
            margin: 30px 0;
        }

        .result-message {
            font-size: 24px;
            color: #666;
            margin-bottom: 30px;
        }

        .answers-review {
            text-align: left;
            margin-top: 40px;
            max-height: 400px;
            overflow-y: auto;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 10px;
        }

        .review-item {
            margin-bottom: 20px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            border-left: 4px solid #ddd;
        }

        .review-item.correct {
            border-left-color: #26890c;
        }

        .review-item.incorrect {
            border-left-color: #e21b3c;
        }

        .review-question {
            font-weight: bold;
            margin-bottom: 8px;
            color: #333;
        }

        .review-answer {
            color: #666;
            font-size: 14px;
        }

        .review-answer.correct-answer {
            color: #26890c;
        }

        .review-answer.incorrect-answer {
            color: #e21b3c;
        }

        @media (max-width: 768px) {
            .quiz-container {
                padding: 20px;
            }

            .start-screen h1 {
                font-size: 36px;
            }

            .question-text {
                font-size: 22px;
            }

            .answers-grid {
                grid-template-columns: 1fr;
            }

            .score {
                font-size: 56px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="quiz-container">
            <!-- Start Screen -->
            <div class="start-screen active">
                <h1>üéÆ KAHOOT! üéÆ</h1>
                <p>–í–∏–∫—Ç–æ—Ä–∏–Ω–∞ –ø—Ä–æ –ö—Å—é—à—É</p>
                <p style="font-size: 18px; color: #999; margin-bottom: 30px;">15 –≤–æ–ø—Ä–æ—Å–æ–≤</p>
                <button class="btn" onclick="startQuiz()">–ù–∞—á–∞—Ç—å –≤–∏–∫—Ç–æ—Ä–∏–Ω—É</button>
            </div>

            <!-- Question Screen -->
            <div class="question-screen">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                
                <div class="question-header">
                    <div class="question-number" id="questionNumber">–í–æ–ø—Ä–æ—Å 1 –∏–∑ 15</div>
                    <div class="question-text" id="questionText"></div>
                </div>

                <div id="answersContainer"></div>

                <div class="navigation">
                    <button class="nav-btn" id="prevBtn" onclick="previousQuestion()">‚Üê –ù–∞–∑–∞–¥</button>
                    <button class="nav-btn" id="nextBtn" onclick="nextQuestion()">–î–∞–ª–µ–µ ‚Üí</button>
                </div>
            </div>

            <!-- Result Screen -->
            <div class="result-screen">
                <h2>üéâ –í–∏–∫—Ç–æ—Ä–∏–Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞! üéâ</h2>
                <div class="score" id="finalScore">0/15</div>
                <div class="result-message" id="resultMessage"></div>
                <button class="btn" onclick="showReview()">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ—Ç–≤–µ—Ç—ã</button>
                <button class="btn" onclick="restartQuiz()" style="margin-left: 10px; background: #26890c;">–ü—Ä–æ–π—Ç–∏ —Å–Ω–æ–≤–∞</button>
                
                <div class="answers-review" id="answersReview" style="display: none;"></div>
            </div>
        </div>
    </div>

    <script>
        const questions = [
            {
                question: "–ü—Ä–∏—á–∏–Ω–∞ –ø–æ—á–µ–º—É –≤—ã –∑–¥–µ—Å—å?",
                type: "multiple",
                options: [
                    { letter: "A", text: "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –≤–µ–∑–¥–µ –ª–∏ —É–±—Ä–∞–Ω–∞ –ø—ã–ª—å", color: "red" },
                    { letter: "B", text: "–ü–æ–ª–æ–∂–∏—Ç—å –ø–ª–∏—Ç–∫—É", color: "blue" },
                    { letter: "C", text: "–ü–æ–∫—É—Ä–∏—Ç—å —Å–æ –°—Ç–∏–≤–æ–º", color: "yellow" },
                    { letter: "D", text: "–ú–∞–π–∫–ª —Ö–æ—Ç–µ–ª –≤ —Å–∞–¥–∏–∫", color: "green" },
                    { letter: "E", text: "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–∞–∫ —Ç–∞–º —Å—Ç—Ä–∏–∂–∫–∞", color: "purple" },
                    { letter: "F", text: "–ü–æ–ø–∏—Ç—å –ø–∏–≤–∫–∞", color: "orange" }
                ],
                correctAnswers: ["A", "B", "C", "D", "E", "F"]
            },
            {
                question: "–õ—é–±–∏–º—ã–π –ø–ª–µ–π—Å –¥–ª—è –ø–æ–∫—É—à–∞—Ç—å —É –ö—Å—é—à–∏?",
                type: "single",
                options: [
                    { letter: "A", text: "StPatrick", color: "red" },
                    { letter: "B", text: "ShaurmaKebab", color: "blue" },
                    { letter: "C", text: "Little Japan", color: "yellow" },
                    { letter: "D", text: "Selver v√µi Prisma toitlustus", color: "green" }
                ],
                correctAnswers: ["C"]
            },
            {
                question: "–ö–∞–∫–æ–π –ª—é–±–∏–º—ã–π —Ü–≤–µ—Ç —É –ö—Å—é—à–∏?",
                type: "single",
                options: [
                    { letter: "A", text: "–°–∏–Ω–∏–π", color: "red" },
                    { letter: "B", text: "–°–∏—Ä–µ–Ω–µ–≤—ã–π", color: "blue" },
                    { letter: "C", text: "–ö—Ä–∞—Å–Ω—ã–π", color: "yellow" },
                    { letter: "D", text: "–ë–∏—Ä—é–∑–æ–≤—ã–π", color: "green" },
                    { letter: "E", text: "–ë–æ—Ä–¥–æ–≤—ã–π", color: "purple" },
                    { letter: "F", text: "–ß–µ—Ä–Ω—ã–π", color: "orange" }
                ],
                correctAnswers: ["D"]
            },
            {
                question: "–í –∫–∞–∫–æ–º –∫–ª—É–±–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ö—Å—é—à–∞?",
                type: "single",
                options: [
                    { letter: "A", text: "SK Nord", color: "red" },
                    { letter: "B", text: "RG Dristal", color: "blue" },
                    { letter: "C", text: "VK Piruett", color: "yellow" },
                    { letter: "D", text: "RG Crystal", color: "green" }
                ],
                correctAnswers: ["D"]
            },
            {
                question: "–õ—é–±–∏–º–æ–µ –±–ª—é–¥–æ —É –ö—Å—é—à–∏?",
                type: "single",
                options: [
                    { letter: "A", text: "–¢–æ–º —è–º", color: "red" },
                    { letter: "B", text: "–°–æ–ª—è–Ω–∫–∞", color: "blue" },
                    { letter: "C", text: "–°—É—à–∏", color: "yellow" },
                    { letter: "D", text: "Prisma toitlustus", color: "green" }
                ],
                correctAnswers: ["B"]
            },
            {
                question: "–ß—Ç–æ –ö—Å—é—à–∞ –≥–æ–≤–æ—Ä–∏—Ç —á–∞—â–µ –≤—Å–µ–≥–æ –Ω–∞ —Ä–∞–±–æ—Ç–µ? –í—ã–±–µ—Ä–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ.",
                type: "multiple",
                options: [
                    { letter: "A", text: "–ë–ª—è—è—è, –∑–∞–µ–±–∞–ª–∏", color: "red" },
                    { letter: "B", text: "–ü–æ –º–∞—à–∏–Ω–∞–º!", color: "blue" },
                    { letter: "C", text: "–°–Ω–∞—á–∞–ª–∞ –ø–æ–∫—É—Ä–∏–º?", color: "yellow" },
                    { letter: "D", text: "–ê –Ω–∞—Ö–µ—Ä –æ–Ω–∏ –Ω–µ —Ö–æ—Ç—è—Ç –ø–æ–π—Ç–∏?", color: "green" }
                ],
                correctAnswers: ["A", "B", "C", "D"]
            },
            {
                question: "–ü—Ä–∞–≤–¥–∞ –ª–∏ —á—Ç–æ –ö—Å—é—à–∞ –∑–∞—Å—ã–ø–∞–µ—Ç –∑–∞ –ø–∞—Ä—É –º–∏–Ω—É—Ç?",
                type: "single",
                options: [
                    { letter: "A", text: "True", color: "red" },
                    { letter: "B", text: "False", color: "blue" }
                ],
                correctAnswers: ["A"]
            },
            {
                question: "–í –∏–≥—Ä–∞—Ö –ö—Å—é—à–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∏–∫ xXxNAGIBATOR666xXx?",
                type: "single",
                options: [
                    { letter: "A", text: "True", color: "red" },
                    { letter: "B", text: "False", color: "blue" }
                ],
                correctAnswers: ["B"]
            },
            {
                question: "–í –∫–∞–∫–∏—Ö –º–µ—Å—Ç–∞—Ö —Ä–∞–±–æ—Ç–∞–ª–∞ –ö—Å—é—à–∞? –í—ã–±–µ—Ä–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ",
                type: "multiple",
                options: [
                    { letter: "A", text: "CircleK", color: "red" },
                    { letter: "B", text: "McDonalds", color: "blue" },
                    { letter: "C", text: "–ö–ª–∏–Ω–∏–Ω–≥", color: "yellow" },
                    { letter: "D", text: "OnlyFans", color: "green" },
                    { letter: "E", text: "–†–µ—Å—Ç–æ—Ä–∞–Ω", color: "purple" },
                    { letter: "F", text: "–ü–∞—Ä–∫ –∞—Ç—Ç—Ä–∞–∫—Ü–∏–æ–Ω–æ–≤", color: "orange" }
                ],
                correctAnswers: ["A", "E", "F"]
            },
            {
                question: "–ö–∞–∫–æ–µ –ª—é–±–∏–º–æ–µ –≤—Ä–µ–º—è –≥–æ–¥–∞ —É –ö—Å—é—à–∏?",
                type: "single",
                options: [
                    { letter: "A", text: "–õ–µ—Ç–æ", color: "red" },
                    { letter: "B", text: "–û—Å–µ–Ω—å", color: "blue" },
                    { letter: "C", text: "–ó–∏–º–∞", color: "yellow" },
                    { letter: "D", text: "–í–µ—Å–Ω–∞", color: "green" }
                ],
                correctAnswers: ["C"]
            },
            {
                question: "–ï—Å–ª–∏ –±—ã –ö—Å—é—à–∞ –±—ã–ª–∞ –±—ã –≥–µ–π–º–µ—Ä–æ–º, —Ç–æ –∫–∞–∫–æ–π –±—ã –Ω–∏–∫ —É –Ω–µ–µ –±—ã–ª –±—ã?",
                type: "text",
                correctAnswers: ["any"]
            },
            {
                question: "–ö–∞–∫–æ–π –¥–µ–≤–∏–∑ —É –ö—Å—é—à–∏ –ø–æ –∂–∏–∑–Ω–∏?",
                type: "single",
                options: [
                    { letter: "A", text: "–ë–µ–π –∏ –±–µ–≥–∏", color: "red" },
                    { letter: "B", text: "–ù–µ –∏—â–∏ –º–æ–º–µ–Ω—Ç–∞, —Å–æ–∑–¥–∞–≤–∞–π –µ–≥–æ —Å–∞–º", color: "blue" },
                    { letter: "C", text: "–ñ–∏–≤–µ–º –æ–¥–∏–Ω —Ä–∞–∑", color: "yellow" },
                    { letter: "D", text: "–ú–µ–Ω—å—à–µ –∑–Ω–∞–µ—à—å, –∫—Ä–µ–ø—á–µ —Å–ø–∏—à—å", color: "green" }
                ],
                correctAnswers: ["C"]
            },
            {
                question: "–ö–∞–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –ö—Å—é—à–∞ —Ü–µ–Ω–∏—Ç –≤ —Å–µ–±–µ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ?",
                type: "single",
                options: [
                    { letter: "A", text: "–ò—Å–∫—Ä–µ–Ω–Ω–æ—Å—Ç—å", color: "red" },
                    { letter: "B", text: "–õ–∏–¥–µ—Ä—Å—Ç–≤–æ", color: "blue" },
                    { letter: "C", text: "–•–∞—Ä–∏–∑–º–∞", color: "yellow" },
                    { letter: "D", text: "–î–≤—É–≥–ª–∞–≤–∞—è –∏–∫—Ä–æ–Ω–æ–∂–Ω–∞—è –º—ã—à—Ü–∞", color: "green" }
                ],
                correctAnswers: ["A"]
            },
            {
                question: "–ö–∞–∫–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –≤—ã –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ —Ü–µ–Ω–∏—Ç–µ –≤ –ö—Å—é—à–µ?",
                type: "text",
                correctAnswers: ["any"]
            },
            {
                question: "–ù–∞–ø–∏—à–∏—Ç–µ –ø–æ–∂–µ–ª–∞–Ω–∏–µ –¥–ª—è –ö—Å—é—à–∏",
                type: "text",
                correctAnswers: ["any"]
            }
        ];

        let currentQuestion = 0;
        let userAnswers = [];

        function startQuiz() {
            document.querySelector('.start-screen').classList.remove('active');
            document.querySelector('.question-screen').classList.add('active');
            userAnswers = new Array(questions.length).fill(null);
            showQuestion(0);
        }

        function showQuestion(index) {
            currentQuestion = index;
            const question = questions[index];
            
            document.getElementById('questionNumber').textContent = `–í–æ–ø—Ä–æ—Å ${index + 1} –∏–∑ ${questions.length}`;
            document.getElementById('questionText').textContent = question.question;
            
            const progress = ((index + 1) / questions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';

            const container = document.getElementById('answersContainer');
            container.innerHTML = '';

            if (question.type === 'text') {
                const textarea = document.createElement('textarea');
                textarea.className = 'text-input';
                textarea.placeholder = '–ù–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–π –æ—Ç–≤–µ—Ç –∑–¥–µ—Å—å...';
                textarea.value = userAnswers[index] || '';
                textarea.oninput = (e) => {
                    userAnswers[index] = e.target.value;
                };
                container.appendChild(textarea);
            } else {
                const grid = document.createElement('div');
                grid.className = 'answers-grid';

                question.options.forEach(option => {
                    const answerDiv = document.createElement('div');
                    answerDiv.className = `answer-option ${option.color}`;
                    
                    if (question.type === 'multiple') {
                        const isSelected = userAnswers[index] && userAnswers[index].includes(option.letter);
                        if (isSelected) answerDiv.classList.add('selected');
                    } else {
                        if (userAnswers[index] === option.letter) answerDiv.classList.add('selected');
                    }

                    answerDiv.innerHTML = `<span class="answer-letter">${option.letter}</span>${option.text}`;
                    
                    answerDiv.onclick = () => selectAnswer(option.letter, question.type);
                    grid.appendChild(answerDiv);
                });

                container.appendChild(grid);
            }

            document.getElementById('prevBtn').disabled = index === 0;
            document.getElementById('nextBtn').textContent = index === questions.length - 1 ? '–ó–∞–≤–µ—Ä—à–∏—Ç—å' : '–î–∞–ª–µ–µ ‚Üí';
        }

        function selectAnswer(letter, type) {
            if (type === 'multiple') {
                if (!userAnswers[currentQuestion]) {
                    userAnswers[currentQuestion] = [];
                }
                const index = userAnswers[currentQuestion].indexOf(letter);
                if (index > -1) {
                    userAnswers[currentQuestion].splice(index, 1);
                } else {
                    userAnswers[currentQuestion].push(letter);
                }
            } else {
                userAnswers[currentQuestion] = letter;
            }
            showQuestion(currentQuestion);
        }

        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                showQuestion(currentQuestion + 1);
            } else {
                showResults();
            }
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                showQuestion(currentQuestion - 1);
            }
        }

        function showResults() {
            let score = 0;

            questions.forEach((question, index) => {
                const userAnswer = userAnswers[index];
                
                if (question.type === 'text') {
                    if (userAnswer && userAnswer.trim() !== '') {
                        score++;
                    }
                } else if (question.type === 'multiple') {
                    const correctSet = new Set(question.correctAnswers);
                    const userSet = new Set(userAnswer || []);
                    
                    if (correctSet.size === userSet.size && 
                        [...correctSet].every(ans => userSet.has(ans))) {
                        score++;
                    }
                } else {
                    if (question.correctAnswers.includes(userAnswer)) {
                        score++;
                    }
                }
            });

            document.querySelector('.question-screen').classList.remove('active');
            document.querySelector('.result-screen').classList.add('active');
            
            document.getElementById('finalScore').textContent = `${score}/${questions.length}`;
            
            let message = '';
            const percentage = (score / questions.length) * 100;
            
            if (percentage === 100) {
                message = '–ù–µ–≤–µ—Ä–æ—è—Ç–Ω–æ! –¢—ã –∑–Ω–∞–µ—à—å –ö—Å—é—à—É –∏–¥–µ–∞–ª—å–Ω–æ! üåü';
            } else if (percentage >= 80) {
                message = '–û—Ç–ª–∏—á–Ω–æ! –¢—ã –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–æ –∑–Ω–∞–µ—à—å –ö—Å—é—à—É! üéâ';
            } else if (percentage >= 60) {
                message = '–•–æ—Ä–æ—à–æ! –ù–µ–ø–ª–æ—Ö–æ–µ –∑–Ω–∞–Ω–∏–µ! üëç';
            } else if (percentage >= 40) {
                message = '–ù–µ–ø–ª–æ—Ö–æ, –Ω–æ –µ—Å—Ç—å –∫—É–¥–∞ —Ä–∞—Å—Ç–∏! üìö';
            } else {
                message = '–°—Ç–æ–∏—Ç —É–∑–Ω–∞—Ç—å –ö—Å—é—à—É –ø–æ–ª—É—á—à–µ! üí™';
            }
            
            document.getElementById('resultMessage').textContent = message;
        }

        function showReview() {
            const reviewContainer = document.getElementById('answersReview');
            reviewContainer.innerHTML = '';
            reviewContainer.style.display = 'block';

            questions.forEach((question, index) => {
                const userAnswer = userAnswers[index];
                let isCorrect = false;
                let correctAnswerText = '';
                let userAnswerText = '';

                if (question.type === 'text') {
                    isCorrect = userAnswer && userAnswer.trim() !== '';
                    userAnswerText = userAnswer || '–ù–µ –æ—Ç–≤–µ—á–µ–Ω–æ';
                    correctAnswerText = '–õ—é–±–æ–π –æ—Ç–≤–µ—Ç';
                } else if (question.type === 'multiple') {
                    const correctSet = new Set(question.correctAnswers);
                    const userSet = new Set(userAnswer || []);
                    isCorrect = correctSet.size === userSet.size && 
                               [...correctSet].every(ans => userSet.has(ans));
                    
                    const correctOptions = question.options.filter(opt => 
                        question.correctAnswers.includes(opt.letter)
                    ).map(opt => `${opt.letter}) ${opt.text}`).join(', ');
                    
                    const userOptions = userAnswer ? question.options.filter(opt => 
                        userAnswer.includes(opt.letter)
                    ).map(opt => `${opt.letter}) ${opt.text}`).join(', ') : '–ù–µ –æ—Ç–≤–µ—á–µ–Ω–æ';
                    
                    correctAnswerText = correctOptions;
                    userAnswerText = userOptions;
                } else {
                    isCorrect = question.correctAnswers.includes(userAnswer);
                    const correctOption = question.options.find(opt => 
                        question.correctAnswers.includes(opt.letter)
                    );
                    const userOption = question.options.find(opt => opt.letter === userAnswer);
                    
                    correctAnswerText = correctOption ? `${correctOption.letter}) ${correctOption.text}` : '';
                    userAnswerText = userOption ? `${userOption.letter}) ${userOption.text}` : '–ù–µ –æ—Ç–≤–µ—á–µ–Ω–æ';
                }

                const reviewItem = document.createElement('div');
                reviewItem.className = `review-item ${isCorrect ? 'correct' : 'incorrect'}`;
                reviewItem.innerHTML = `
                    <div class="review-question">–í–æ–ø—Ä–æ—Å ${index + 1}: ${question.question}</div>
                    <div class="review-answer ${isCorrect ? 'correct-answer' : 'incorrect-answer'}">
                        ${isCorrect ? '‚úì' : '‚úó'} –í–∞—à –æ—Ç–≤–µ—Ç: ${userAnswerText}
                    </div>
                    ${!isCorrect && question.type !== 'text' ? `
                        <div class="review-answer correct-answer">
                            ‚úì –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: ${correctAnswerText}
                        </div>
                    ` : ''}
                `;
                reviewContainer.appendChild(reviewItem);
            });
        }

        function restartQuiz() {
            currentQuestion = 0;
            userAnswers = [];
            document.querySelector('.result-screen').classList.remove('active');
            document.querySelector('.start-screen').classList.add('active');
            document.getElementById('answersReview').style.display = 'none';
        }
    </script>
</body>
</html>
